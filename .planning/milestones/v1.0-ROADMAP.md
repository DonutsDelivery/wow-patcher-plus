# Milestone v1.0: MVP

**Status:** SHIPPED 2026-01-17
**Phases:** 1-5
**Total Plans:** 14

## Overview

Build a cross-platform desktop application that automates the HD Patch: Reforged installation for Turtle WoW. The journey goes from parsing the forum to discover patches, through downloading from external hosts, to installing MPQ files, and finally wrapping it all in a user-friendly GUI with preset configurations.

## Phases

### Phase 1: Foundation & Forum Parser

**Goal**: Parse Turtle WoW forum post to discover available patches, download links, and module dependencies
**Depends on**: Nothing (first phase)
**Requirements**: PARSE-01, PARSE-02, PARSE-03
**Plans**: 2 plans

Plans:
- [x] 1-01: Project scaffolding and Tauri setup (Wave 1)
- [x] 1-02: Parser implementation with models (Wave 2, depends on 1-01)

**Details:**
- Tauri v2 project with React-TS frontend
- scraper crate for HTML parsing with CSS selectors
- 14 patch modules (A-V) with dependency mapping
- Tauri commands: fetch_patches, validate_selection, auto_select_deps, get_forum_url

### Phase 2: Download Engine

**Goal**: Download patch files from external hosts (Google Drive, Mediafire) with progress tracking and parallel downloads
**Depends on**: Phase 1
**Requirements**: DL-01, DL-02, DL-03, DL-04, DL-05
**Plans**: 4 plans

Plans:
- [x] 2-01: Core download infrastructure (Wave 1) - Provider trait, streaming engine, progress types
- [x] 2-02: Google Drive provider (Wave 2, depends on 2-01) - URL resolution, virus scan handling
- [x] 2-03: Mediafire provider (Wave 2, depends on 2-01) - URL resolution, dynamic subdomain handling
- [x] 2-04: Resume, parallel manager, Tauri commands (Wave 3, depends on 2-02, 2-03)

**Details:**
- DownloadProvider trait for URL resolution abstraction
- Streaming downloads with progress events (100ms throttle)
- Resume capability with HTTP Range headers
- MAX_CONCURRENT_DOWNLOADS = 3 with Semaphore limiting

### Phase 3: Installation Engine

**Goal**: Copy downloaded MPQ files to WoW DATA folder with verification and repair
**Depends on**: Phase 2
**Requirements**: INST-01, INST-02, INST-03, INST-04
**Plans**: 3 plans

Plans:
- [x] 3-01: Tauri plugins + WoW detection + Settings (Wave 1)
- [x] 3-02: MPQ copier + Verification logic (Wave 2, depends on 3-01)
- [x] 3-03: Repair + Tauri commands (Wave 3, depends on 3-01, 3-02)

**Details:**
- WoW validation: check for WoW.exe, WoWFoV.exe, or turtle-wow.exe PLUS Data directory
- Settings stored in settings.json via tauri-plugin-store
- 64KB buffer for chunked MPQ copy
- Size-based verification for installed patches
- InstallManager coordinating install/verify/repair operations

### Phase 4: GUI & Configuration

**Goal**: Desktop application with quality presets, individual module toggles, and cross-platform builds
**Depends on**: Phase 3
**Requirements**: CFG-01, CFG-02, CFG-03, CFG-04, UI-01, UI-02, UI-03, UI-04, UI-05
**Plans**: 4 plans

Plans:
- [x] 4-01: Tailwind/shadcn setup + dark theme (Wave 1)
- [x] 4-02: PresetSelector, ModuleList, FolderPicker components (Wave 2, depends on 4-01)
- [x] 4-03: Progress components + main App workflow (Wave 3, depends on 4-02)
- [x] 4-04: Cross-platform CI/CD + bundle config (Wave 4, depends on 4-03)

**Details:**
- Tailwind CSS v4 with @tailwindcss/vite plugin
- shadcn/ui New York style with neutral base color
- Presets: low (I,M), medium (A,C,G,I,M,V), high (+B,D,E,S), ultra (+U)
- App state machine: configure -> downloading -> installing -> complete
- GitHub Actions with 4-way build matrix (Windows, Ubuntu, macOS ARM64, macOS x86_64)

### Phase 5: Integration Fixes

**Goal**: Fix cross-phase wiring issues that will cause runtime failures
**Depends on**: Phase 4
**Gap Closure**: Closes gaps from v1-MILESTONE-AUDIT.md
**Plans**: 1 plan

Plans:
- [x] 5-01: Type mismatch + filename convention + repair UI (Wave 1)

**Details:**
- serde(rename) for Rust->TypeScript field name mapping (downloads->links)
- targetFilename parameter for custom download naming (Patch-{ID}.mpq)
- Verify and Repair buttons in complete state UI

---

## Milestone Summary

**Key Decisions:**

- Tauri v2 with React-TS frontend for cross-platform GUI
- scraper crate for HTML parsing (Servo's html5ever)
- DownloadProvider trait for URL resolution abstraction
- MAX_CONCURRENT_DOWNLOADS = 3 to avoid overwhelming servers
- serde(rename) for field name mismatches between Rust and TypeScript

**Issues Resolved:**

- Type field mismatch (downloads vs links) fixed with serde rename
- Filename convention gap fixed with target_filename parameter
- Repair flow missing UI fixed with Verify + Repair buttons

**Tech Debt (Non-blocking):**

- validateSelection wrapper exported but unused in frontend
- get_forum_url command available but unused in frontend
- get_active_downloads wrapper exported but unused
- VerifyResult TypeScript interface status values don't match Rust enum (cosmetic)

---

*For current project status, see .planning/PROJECT.md*
